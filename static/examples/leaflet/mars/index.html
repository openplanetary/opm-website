<!DOCTYPE html>
<html lang="en">
<head>
    <title>OPM Mars Basemaps with Leaflet</title>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #232323;
        }

        html, body, #map {
            height: 100%;
            width: 100%;
        }
    </style>
</head>
<body>
<div id="map"></div>
<script>
    // Initialize the map
    const map = L.map('map', {
        center: [0, 0],
        zoom: 3,
        crs: L.CRS.EPSG3857 // Using standard Web Mercator projection
    });

    // Define basemaps from basemaps.json
    const basemaps = {
        "Mars Colour MOLA Elevation": L.tileLayer("http://s3-eu-west-1.amazonaws.com/whereonmars.cartodb.net/mola_color-noshade_global/{z}/{x}/{y}.png", {
            attribution: "NASA/MOLA",
            tms: true,
            maxZoom: 18
        }),
        "Mars Viking MDIM2.1": L.tileLayer("http://s3-eu-west-1.amazonaws.com/whereonmars.cartodb.net/viking_mdim21_global/{z}/{x}/{y}.png", {
            attribution: "NASA/Viking/USGS",
            tms: true,
            maxZoom: 18
        }),
        "Mars Hillshade": L.tileLayer("https://s3.us-east-2.amazonaws.com/opmmarstiles/hillshade-tiles/{z}/{x}/{y}.png", {
            attribution: "NASA/MOLA",
            tms: true,
            maxZoom: 18
        }),
        "OPM Mars Basemap v0.2": L.tileLayer("https://cartocdn-gusc.global.ssl.fastly.net/opmbuilder/api/v1/map/named/opm-mars-basemap-v0-2/all/{z}/{x}/{y}.png", {
            attribution: "OpenPlaneraryMap",
            tms: false,
            maxZoom: 18
        }),
        "Mars Shaded Colour MOLA Elevation": L.tileLayer("http://s3-eu-west-1.amazonaws.com/whereonmars.cartodb.net/mola-color/{z}/{x}/{y}.png", {
            attribution: "NASA/MOLA",
            tms: true,
            maxZoom: 18
        }),
        "Mars Shaded Grayscale MOLA Elevation": L.tileLayer("http://s3-eu-west-1.amazonaws.com/whereonmars.cartodb.net/mola-gray/{z}/{x}/{y}.png", {
            attribution: "NASA/MOLA",
            tms: true,
            maxZoom: 18
        }),
        "Mars Shaded Surface Texture": L.tileLayer("http://s3-eu-west-1.amazonaws.com/whereonmars.cartodb.net/celestia_mars-shaded-16k_global/{z}/{x}/{y}.png", {
            attribution: "Celestia/praesepe",
            tms: true,
            maxZoom: 18
        })
    };

    // Add the first basemap to the map by default
    basemaps["Mars Colour MOLA Elevation"].addTo(map);

    // Add layer control
    L.control.layers(basemaps, {}, {
        collapsed: false
    }).addTo(map);

    // Add attribution control
    L.control.attribution({
        position: 'bottomright',
        prefix: '<a href="https://openplanetarymap.org/">OpenPlanetaryMap</a>'
    }).addTo(map);
</script>
</body>
</html>